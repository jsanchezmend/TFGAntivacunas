<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <thymeleaf th:replace="sections/header :: header" />
</head>
<body>
	<div id="wrapper">
		<thymeleaf th:replace="sections/leftMenu :: leftMenu" />
        <div id="page-wrapper">
        	
        	<div class="row">
        		<div class="col-lg-12">
        			<a href="javascript:doBack()"><i class="fa fa-arrow-left"> Back</i></a>
        			<h1 class="page-header-back">Add new category</h1>
        		</div>
        	</div>
        	
        	<div class="row">
        		<div class="col-lg-12">
        			<div class="panel panel-default">
        				<div class="panel-body">
        					 <form role="form" id="newCategory">
        					 	<fieldset>
	                            	<div class="row">
		                            	<div class="form-group col-md-12">
			                            	<label>* Name:</label> 
									        <input type="text" class="form-control" name="name" />
	                                    </div>
                                    </div>
                                    <div class="row">
		                            	<div class="form-group col-md-12">
			                            	<label>* Color:</label> 
									        <div id="colorpicker"></div>
									    </div>
	                                    <div class="form-group col-md-3">
									        <input type="text" class="form-control" name="color" id="color" value="#ffffff" disabled />
	                                    </div>
                                    </div>
                                    <div class="row">
		                                <div class="form-group col-md-12">
		                                	<button type="button" class="btn btn-danger" id="save">Save</button>
		                                </div>
	                                </div>
	                            </fieldset>
        					 </form>
        					 <div id="formMessages"></div>
        				</div>
        			</div>
                </div>
        	</div>
        	
        </div>	    
	</div>	
	
	<script>
		// Enable color pickers
	  	$(document).ready(function() {
		    $('#colorpicker').farbtastic('#color');
		});
		
		// Save a new category
    	$('#save').on('click', function() {
    		var categoryFields = getFormFields("newCategory");
    		if(validateCategoryFiled(categoryFields) == true) {
		    	doPost("/api/categories", categoryFields, function (data) {  
		    		doBack();
		    	});
    		}
    	})
   	</script>
	
	<thymeleaf th:replace="sections/footer :: footer" />
</body>
</html>