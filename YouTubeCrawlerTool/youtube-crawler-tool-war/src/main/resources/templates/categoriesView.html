<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <thymeleaf th:replace="sections/header :: header" />
</head>
<body>
	<div id="wrapper">
		<thymeleaf th:replace="sections/leftMenu :: leftMenu" />
        <div id="page-wrapper">
        
        	<div class="row">
        		<div class="col-lg-12">
        			<h1 class="page-header">Categories</h1>
        		</div>
        	</div>
        	
        	<div class="row">
        		<div class="col-lg-12">
        			<table width="100%" class="table table-striped table-bordered table-hover" id="categoriesTable"></table>
                </div>
        	</div>
        </div>	  
	</div>	
	
	<script>
		$(document).ready(function(){
			
			$('#categoriesTable').DataTable( {
				deferRender: true,
			    ajax: {
			        url: '/api/categories',
			        dataSrc: ''
			    },
			    columnDefs: [ 
				  {
				    targets: 1,
				    data: "color",
				    render: function (data, type, row, meta) {
				    	return '<span style="color:'+row.color+'">'+ row.color + '</span>';
				    }
				  },
			      {
			        targets: 2,
			        data: "edit",
			        render: function (data, type, row, meta) {
			        	return '<a class="btn btn-danger" href="/categories/'+row.name+'">Edit</a>';
			        }
			      },
			      {
				    targets: 3,
				    data: "delete",
				    render: function (data, type, row, meta) {
				    	return '<a class="btn" href="/categories/'+row.name+'">Delete</a>';
				    }
				  }],
			    columns: [
			    	{ data: 'name' },
			    	{ data: 'color' },
			    	{ data: 'edit' },
			    	{ data: 'delete' }
			    ]
			} );
			
		});
	</script>
	
	<thymeleaf th:replace="sections/footer :: footer" />
</body>
</html>